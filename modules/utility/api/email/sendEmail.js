import{fetchPost}from"/modules/utility/fetch";import{resolveVariables}from"../../../../app.config";export default async function handler(a){if(a){var t=((e,r)=>{if(0<e.length)for(let t=0;t<e.length;t++)Object.prototype.hasOwnProperty.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r})(["toUserId","toUsername","toEmail","subject","content"],{}),t=await fetchPost(resolveVariables()?.apiUrl+"/m/sendemail",null,null,t);if(t&&t.hasOwnProperty("status")){if("disauthenticated"==t.status)return logout(),"disauthenticated";if("failed"==t.status)return!1;if("success"==t.status)return t}}return!1}