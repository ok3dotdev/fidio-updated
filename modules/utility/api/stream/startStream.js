import{fetchPost}from"/modules/utility/fetch";import{resolveVariables}from"../../../../app.config";export default async function handler(t){if(t){t=Object.assign(t,{hash:t.user.hash,identifier:t.user.identifier,streamSettings:t.streamSettings,streamingFor:t.streamingFor?"string"==typeof t.streamingFor?t.streamingFor:t.streamingFor?.id?t.streamingFor.id:null:null}),t=await fetchPost(resolveVariables()?.apiUrl+"/p/startstream",null,null,t);if(t&&t.hasOwnProperty("status")){if("disauthenticated"==t.status)return logout(),"disauthenticated";if("failed"==t.status)return!1;if("success"==t.status)return t}}return!1}