import React from"react";import Link from"next/link";import Inventory from"@mui/icons-material/Inventory";import receiptPageStyles from"./ReceiptPage.module.scss";import{resolveCurrentStyle,resolveCurrentOption,resolveRegionBasedPrice,resolveMoneyFormat,westernMoneyFormat}from"../../utility/ecommerce";import{selectThisText}from"../../utility/utility/event";const Module=c=>{const i=e=>{var t;if(e&&c?.cdn?.static&&0<e?.product?.images?.length)return(t=e.product.images.find(e=>e.leadImg??!1))?c.cdn.static+"/"+t.name:c.cdn.static+"/"+e.product.images[0].name;return""},a=c?.order??null,r=a?.creation&&!isNaN(new Date(Number(a.creation)))?new Date(Number(a.creation)).toString():"",m=a?.currency;return React.createElement("div",null,a?(()=>{let n;var e=a?.paymentmethoddetails?.card??null,t=a?.paymentmethoddetails?.billing_details??null;return React.createElement("div",{className:"short_bottom_border",style:{paddingBottom:"1rem"}},React.createElement("div",null,React.createElement("div",{className:"flex",style:{justifyContent:"space-between"}},React.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},"Order ",React.createElement("span",{style:{background:"#222222",borderRadius:"1rem",padding:".0rem .75rem"},selectValue:""+(a?.id??""),onClick:selectThisText},"#",a?.id??"")," - ",React.createElement("span",{selectValue:a?.creation&&!isNaN(Number(a.creation))&&new Date(Number(a.creation))?""+new Date(Number(a.creation)).toDateString():"",onClick:selectThisText},a?.creation&&!isNaN(Number(a.creation))&&new Date(Number(a.creation))?""+new Date(Number(a.creation)).toDateString():""),c.hideView?null:React.createElement(React.Fragment,null," - ",React.createElement(Link,{href:c.devLocal?c.devAddress+"/r?o="+a?.id:`https://${c.domainUrl}/r?o=`+a?.id,style:{display:"flex",alignItems:"center"}},"View",React.createElement("div",{className:"material-icons",style:{fontSize:"1rem",marginLeft:".25rem"}},"receipt")))),React.createElement("div",{style:{fontSize:".7rem"}},r)),React.createElement("div",{className:"flex gap-p3",style:{flexDirection:"column",marginTop:".3rem",marginBottom:".3rem"}},a?.cart?.map?a.cart.map((e,t)=>{var a=resolveCurrentStyle(e.product,e.style),r=resolveCurrentOption(a,e.option),l=resolveRegionBasedPrice(c,a)?.symbol??"";return n=l,React.createElement("div",{className:"gap-p2 Ecommerce_Item_Container",key:t,i:t},React.createElement("div",{style:{display:"flex",gap:".5rem"}},React.createElement("div",{className:"Ecommerce_Item_Image_Container",style:{backgroundImage:i(e)?`url(${i(e)})`:null}},React.createElement("img",{src:"img/default/greythumb_product.jpg",className:"Product_img",style:{width:"82.5px",maxHeight:"82.5px",opacity:i(e)?0:1}})),React.createElement("div",{style:{width:"100%"}},React.createElement("div",{className:"flex gap-p2 Ecommerce_Cart_Title_Main_Container"},React.createElement("div",{className:"Ecommerce_Title"},e?.product?.name??""),React.createElement("div",{className:"Ecommerce_Cart_Price_Container "+(c?.expanded?"Ecommerce_Price_Expanded_Container":null)},React.createElement("div",{className:"Ecommerce_Price"},l,resolveMoneyFormat(e.price)," ",m.toUpperCase()))),React.createElement("div",{className:"flex",style:{justifyContent:"space-between"}},React.createElement("div",null,React.createElement("span",{className:"flex",style:{fontSize:".7rem",color:"grey"}},React.createElement("div",null,a?.style??""),React.createElement("span",null," ~ "),React.createElement("div",null,r?.option??"")),React.createElement("div",{className:"Ecommerce_Cart_Quantity_Container"},React.createElement("div",{style:{display:"flex",alignSelf:"center"}},React.createElement(Inventory,{sx:{width:".85rem",height:".9rem",marginRight:".25rem"}})),React.createElement("div",null,Object.prototype.hasOwnProperty.call(e,"quantity")?e.quantity:""))),React.createElement("div",{className:"Ecommerce_Cart_Side_Meta_Container "+(c?.expanded?"Ecommerce_Price_Expanded_Container":null)},React.createElement("div",{style:{color:"grey",fontSize:".7rem",height:"17px",textAlign:"right"}},"Subtotal:"),React.createElement("div",{className:"Ecommerce_Price"},l,resolveMoneyFormat(e.quantity*e.price)," ",m.toUpperCase()))))))}):null),React.createElement("div",{className:"flex Ecommerce_Price",style:{justifyContent:"space-between"}},React.createElement("div",{style:{lineHeight:"1.4rem"}},"Total: "),React.createElement("div",{style:{fontSize:"1.25rem"}},n,westernMoneyFormat.format(a?.totals?.total)??""," ",m.toUpperCase())),React.createElement("div",null,a.paymentfulfilled?React.createElement("div",null,a?.meta?.charged&&a?.currency?React.createElement("div",{className:receiptPageStyles.pair,style:{fontSize:".7rem"}},React.createElement("div",null,"Paid ",n,resolveMoneyFormat(a.amountcaptured)," ",a.currency.toUpperCase()," on ",new Date(a.meta.charged).toLocaleDateString()," ",new Date(a.meta.charged).toTimeString()),React.createElement("div",null,e?React.createElement("div",{style:{display:"flex",gap:".25rem"}},React.createElement("div",null,e.brand??""),React.createElement("div",null,e.last4??""),React.createElement("div",null,t?.name?t.name:"")):null)):""):React.createElement("div",null,React.createElement("div",{style:{fontSize:".75rem"}},"Payment Unfulfilled")))))})():null)};export default Module;