import React from"react";import Head from"next/head";import{useRouter}from"next/router";import resolveConfig,{pageDefaults}from"/app.config";import{basicError,generateComponent,handlePropsPriority,resolvePage,resolvePageName,getServerSidePropsDefault,resolveDefaults}from"/modules/utility.js";import{isObjectEmpty}from"/modules/util";import{Menu}from"/modules/menu/";import{constructGeneral,paintMeta}from"./meta/general";import middlewareFunctions from"/customModules/middleware/MiddlewareFunctions";import{SliderStyles,SliderTheme,GoogleFontsLink,PaystackScript}from"/modules/internal/localImports";const PageContainer=t=>{var e=useRouter();const{query:a,asPath:o}=e,[r,n]=React.useState(!1),[l,i]=React.useState({});t.resolvedDefinition;let s=resolvePage(resolveConfig(t._configVariables,t),t.path);s&&s.data;const c=async e=>{var e=await resolveDefaults(s.url,t,t._configVariables,a,o,n,e);isObjectEmpty(e)||(e=Object.assign({...t},e),i(e))};t._LocalEventEmitter.unsubscribe("refetchDefaults"),t._LocalEventEmitter.subscribe("refetchDefaults",e=>{c(!0)}),React.useEffect(()=>{s&&s.url&&!r&&isObjectEmpty(l)&&c()},[r,l,s]);var p=handlePropsPriority(l,t),u=(f=(s=resolvePage(resolveConfig(t._configVariables,p),p.path))&&s.data,generateComponent(f)),m=!f||f?.props&&!Object.prototype.hasOwnProperty.call(f.props,"useMenu")||f.props?.useMenu,f=!f||f?.props&&!Object.prototype.hasOwnProperty.call(f.props,"useAppConfigLayout")||f.props?.useAppConfigLayout;const g=Object.assign({},p);g.useMenu=m,g.useAppConfigLayout=f;m=React.createElement("div",{className:p.pageName+"_Body "+(t.pageClass??""),style:{top:p.menuConfig.height?p.menuConfig.height+"px":"",position:"relative"}},u),g.useAppConfigLayout&&(g.appConfigLayout=m),f=React.Children.map(t.children,function(e){return null!==e?"function"==typeof e.type?React.cloneElement(e,g):e:React.createElement("div")}),p="/ar"===s?.url;let d=constructGeneral(e,g);return middlewareFunctions?.transformMeta&&(d=middlewareFunctions.transformMeta(e,d,g)),React.createElement(React.Fragment,null,React.createElement(Head,null,React.createElement("title",null,g.siteTitle),g?.googleClientId?React.createElement("meta",{name:"google-signin-client_id",content:""+g.googleClientId}):null,paintMeta(d),SliderStyles,SliderTheme,GoogleFontsLink,PaystackScript,React.createElement("link",{rel:"icon",href:"/favicon.ico"})),React.createElement("div",{className:p?"Article_SafeStyles":""},f))};export default PageContainer;