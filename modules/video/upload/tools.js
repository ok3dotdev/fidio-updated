import apiReq from"/modules/utility/api/apiReq";const fetchVideos=async(e,t,a,i,d,o)=>{let c;try{if(!d){i("videos"),c=setTimeout(()=>{i(!1)},35e3);var r=await apiReq("/fetch/fetchhandler",{handlerArgs:[{videoReq:[{limit:a,offset:20*t,sortField:"creation",sort:"desc",author:e?._loggedIn?.identifier}]}]});if(r?.data?.fetchedData&&r.data.fetchedData[0]&&r.data.fetchedData[0]?.videoReq[0])return i(!1),clearTimeout(c),setTimeout(()=>{e._LocalEventEmitter.dispatch(o,{dispatch:"initializeVideosHandler"})},150),r.data.fetchedData[0].videoReq[0];i(!1),clearTimeout(c)}}catch(e){i(!1),clearTimeout(c)}};export{fetchVideos};